<div>
	<div id="clicker" style="position:absolute; left:100px; top:100px;">
		<div class="click" style="display:none; position:absolute; left:-30px; padding:5px; color:white; font-weight:bold; border-radius:10px; background-color:red;">click</div>
		<div class="alert" style="display:none; position:absolute; left:50px; top:0; margin:0px; padding:5px; color:red; font-weight:bold; width:200px; background-color:white; min-height:100px; border:1px solid gray; text-align:left;">text</div>
		<img src="data:image/jpeg;base64, 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">
		<script>
			$(function(){
				function show(complete){
					txt = $("#clicker").find(".alert").attr("text");// console.log(txt);
					text = $("#clicker").find(".alert").text(); console.log(text);
					if(txt.length > text.length){
						n = txt.substr(0,text.length+1);// console.log(n);
						$("#clicker").find(".alert").text(n); 
						setTimeout(function(){ show(complete) }, 100);
					}else{
						setTimeout(function(){
							$("#clicker").find(".alert").animate({"opacity":0}, 2000, complete);
						} ,1000);
					}
				}

				$("#clicker").bind("click", function(data, param){
					$(main = this).find(".click").show();
					setInterval(function(){
						$(main).find(".click").hide();
						$.globalEval(param.complete);
					}, 500);
				});
				$("#clicker").bind("run", function(data, param){
					pos = $(param.obj).eq(0).position();
					$(this).animate({"left":pos.left, "top":pos.top}, 1000, param.complete);
				});
				$("#clicker").bind("alert", function(data, param){
					$(this).find(".alert").text("").attr("text", param.text).css("opacity", 1).show();
					show(param.complete);
				});
				$("#clicker").bind("loc", function(data, param){
					console.log("function:null");
				});
			});
		</script>
	</div>
	<script>
		$(function(){
			$("#lesson").change(function(){
				lesson_id = $(this).find("option:selected").val();// alert(lesson_id);
				document.location.href = "<?=$arg['modpath']?>/lesson_id:"+lesson_id;
			});
			$("#cmd .cmd").click(function(){
				script = $(this).parents("#cmd").find("textarea").val();// alert(script);
				$.globalEval(script);
			});
		});
	</script>
	<div id="cmd" style="margin:20px 0;">
		<h1>Выполнение jquery</h1>
		<textarea style="width:60%; height:100px;"></textarea>
		<div><input class="cmd" type="button" value="Выполнить код"></div>
	</div>
	<div>
		<select id="lesson">
			<option value="0"></option>
			<? foreach($tpl['lesson'] as $k=>$v): ?>
				<option value="<?=$v['id']?>" <?=($_GET['lesson_id'] == $v['id'] ? "selected" : "")?>><?=$v['name']?></option>
			<? endforeach; ?>
		</select>
	</div>
	<div>
		<? foreach($tpl['index'] as $k=>$v): ?>
			<div>
				<div><?=$v['name']?></div>
				<div><?=$v['description']?></div>
			</div>
		<? endforeach; ?>
	</div>
</div>